<app-navbar></app-navbar>
<div class="container">
  <div class="jumbotron p-3 p-md-5 text-white rounded bg-dark">
    <div class="col-md-6 px-0">
      <h2 class="heading display-5 font-italic">Welcome To Blogs, {{username.name}}!</h2>
    </div>
  </div><br><br>
  <div class="container">
    <div class="row">
      <div class="col-12">
        <input type="search" [(ngModel)]="searchText" (keyup)="search()" placeholder="Search"
          class="form-control mb-3" />
      </div>
      <ng-container *ngFor="let p of filteredItems; index as i">
        <div class="col col-md-4 col-sm-12">
          <div class="card h-100" style="cursor: pointer;" (click)="viewPost(p)">
            <img [src]="p.image" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title">{{p.title | titlecase}}</h5>

              <span *ngIf="!showMore[p.pid]">{{ (p.content.length > 100 ? p.content.substr(0, 100) + '...' : p.content)
                }}</span>
              <button class="see-more" *ngIf="!showMore[p.pid]" (click)="toggleShowMore(p.pid, $event)">See
                More</button>

              <p *ngIf="showMore[p.pid]">{{ p.content }}</p>
              <button class="see-more" *ngIf="showMore[p.pid]" (click)="toggleShowMore(p.pid, $event)">See Less</button>
              <!-- <p *ngIf="!showMore[p.pid]">{{ (p.content.length > 100 ? p.content.substr(0, 100) + '...' : p.content) }}</p>
              <p *ngIf="showMore[p.pid]">{{ p.content }}</p>
              <button class="see-more" (click)="toggleShowMore(p.pid, $event)">
                {{ showMore[p.pid.toString()] ? 'See Less' : 'See More' }}
              </button> -->
              <p><span class="post-date">Posted by {{p.author}} at {{ p.createdAt | date: 'dd/MM/yyyy hh:mm a' }}</span></p>
              {{ p.likes }} Likes
              <button class="btn btn-primary" (click)="likePost(p, $event);"><i
                  class="fa fa-thumbs-up"></i> Like</button>
            </div>
          </div>
        </div>
        <div *ngIf="(i+1)%3===0" class="w-100"></div>
      </ng-container>
    </div>

  </div>
</div>